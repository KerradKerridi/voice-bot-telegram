![Python](https://img.shields.io/badge/python-3.8.10-blue)
![pyTelegramBotApi](https://img.shields.io/badge/pyTelegramBotApi-4.7.0-red)

# Voice bot for telegram

## О проекте

Бот который позволяет пользователям оставлять голосовые сообщения.\

## Схема работы

Бот принимает голосовые от одного пользователя и отдает другим слушателям записанные ранее голосовые.\
Функции автоудаления голосовых не предусмотрено.\
Войсы сохраняются в папку на сервере, ссылки на них в БД

## Что умеет
1. Принимать голосовые сообщения от собеседника
2. Отдавать голосовые сообщения другому собеседнику в рандомном порядке
3. Не отдает сообщения записанные пользователем самому пользователю
4. Запоминает кто какие сообщения прослушал и не выдает их вновь
5. Сохраняет всех пользователей взаимодействовавших с ботом в БД


## Начало работы

1. Копируем репозиторий 
  ```bash
  git clone https://github.com/KerradKerridi/voice-bot.git
  ```
2. Получаем tg api key у https://t.me/botfather
3. Устанавливаем зависимости `python -m pip install -r requirements.txt`
4. Копируем файл settings_example.ini в settings.ini
```bash
cp settings_example.ini settings.ini
```
5. Заполняем файл settings.ini

| Параметр в settings       |         Что вставляем         | За что отвечает                                                                   |
|---------------------------|:-----------------------------:|:----------------------------------------------------------------------------------|
| Telegram.listen_bot_token |    TG API KEY из пункта 2     | ТГ апи ключ от бота                                                               |
| telegram.group_for_logs   | Идентификатор группы в ТГ №1* | Группа для логов. Присылает в чат все нажатия кнопок пользователем если logs=true |
| Telegram.important_logs   | Идентификатор группы в ТГ №2* | Группа для важных логов. Пишет если что-то сломалось вне зависимости от logs      |
| Settings.logs             |          true/false           | Признак отслеживать ли нажатия пользователем кнопок.                              |

*Идентификатор группы или канала это не ник. Получить именно идентификатор можно у https://t.me/username_to_id_bot

6. Стартуем командой `python main.py run`